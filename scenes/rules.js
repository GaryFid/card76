const { Scenes, Markup } = require('telegraf');

// –°–æ–∑–¥–∞–µ–º —Å—Ü–µ–Ω—É —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
const rulesScene = new Scenes.BaseScene('rules');

// –¢–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã "–†–∞–∑–≥–∏–ª—å–¥—è–π"
const rulesText = `üìã *–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã "–†–∞–∑–≥–∏–ª—å–¥—è–π"*

*–¶–µ–ª—å –∏–≥—Ä—ã:* –ò–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –≤—Å–µ—Ö –∫–∞—Ä—Ç –Ω–∞ —Ä—É–∫–µ —Ä–∞–Ω—å—à–µ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤.

*–ö–æ–ª–æ–¥–∞:* –ò–≥—Ä–∞ –≤–µ–¥–µ—Ç—Å—è –∫–æ–ª–æ–¥–æ–π –∏–∑ 52 –∫–∞—Ä—Ç (–æ—Ç 2 –¥–æ —Ç—É–∑–∞ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä—É—Å—Å–∫–∏—Ö –º–∞—Å—Ç—è—Ö: —á–µ—Ä–≤–∏ ‚ô•, –±—É–±–Ω—ã ‚ô¶, —Ç—Ä–µ—Ñ—ã ‚ô£, –ø–∏–∫–∏ ‚ô†).

*–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:* 
- –ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ 3 –∫–∞—Ä—Ç—ã:
  - 2 –∑–∞–∫—Ä—ã—Ç—ã–µ –∫–∞—Ä—Ç—ã
  - 1 –æ—Ç–∫—Ä—ã—Ç—É—é –∫–∞—Ä—Ç—É
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã –æ–±—Ä–∞–∑—É—é—Ç –∫–æ–ª–æ–¥—É, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –±–µ—Ä—É—Ç—Å—è –∫–∞—Ä—Ç—ã.
- –í–µ—Ä—Ö–Ω—è—è –∫–∞—Ä—Ç–∞ –∫–æ–ª–æ–¥—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –∫–ª–∞–¥–µ—Ç—Å—è —Ä—è–¥–æ–º, –æ–±—Ä–∞–∑—É—è –Ω–∞—á–∞–ª–æ –∫–æ–ª–æ–¥—ã (–≤–µ—Ä—Ö–Ω—è—è –∫–∞—Ä—Ç–∞ –∫–æ–ª–æ–¥—ã, –∫–æ—Ç–æ—Ä—É—é –±–µ—Ä–µ—Ç –∏–≥—Ä–æ–∫, –µ—Å–ª–∏ –µ–º—É –Ω–µ—á–µ–º —Å—Ö–æ–¥–∏—Ç—å).

*–ù–∞—á–∞–ª–æ –∏–≥—Ä—ã:*
- –ü–µ—Ä–≤—ã–π —Ö–æ–¥ –¥–µ–ª–∞–µ—Ç –∏–≥—Ä–æ–∫ —Å —Å–∞–º–æ–π –≤—ã—Å–æ–∫–æ–π –æ—Ç–∫—Ä—ã—Ç–æ–π –∫–∞—Ä—Ç–æ–π.
- –°—Ç–∞—Ä—à–∏–Ω—Å—Ç–≤–æ –∫–∞—Ä—Ç (–æ—Ç –Ω–∏–∑—à–µ–π –∫ –≤—ã—Å—à–µ–π): 2, 3, 4, 5, 6, 7, 8, 9, 10, –í–∞–ª–µ—Ç, –î–∞–º–∞, –ö–æ—Ä–æ–ª—å, –¢—É–∑.
- –ò–≥—Ä–æ–∫ –≤ 1-–π —Å—Ç–∞–¥–∏–∏ –∏–≥—Ä—ã –º–æ–∂–µ—Ç —Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ö–Ω–µ–π –∫–∞—Ä—Ç–æ–π –Ω–∞ –µ–≥–æ —Ä—É–∫–∞—Ö.

*–•–æ–¥ –∏–≥—Ä—ã:*
–í —ç—Ç–æ–π —Å—Ç–∞–¥–∏–∏ –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –ø–æ–ª–æ–∂–∏—Ç—å –≤ –æ—Ç–±–æ–π –∫–∞—Ä—Ç—É, –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞ 1 —Ä–∞–Ω–≥ –≤—ã—à–µ, —á–µ–º —É –≤–µ—Ä—Ö–Ω–µ–π –∫–∞—Ä—Ç—ã –æ—Ç–±–æ—è.
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –Ω–∞ –¢—É–∑ –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–æ–π–∫—É
- –ü—Ä–∏–º–µ—Ä: –Ω–∞ 7 –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å 8, –Ω–∞ –í–∞–ª–µ—Ç–∞ - –î–∞–º—É, –∏ —Ç.–¥.
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–¥–∞—á–Ω–æ–≥–æ —Ö–æ–¥–∞ (–∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –ø–æ–ª–æ–∂–∏–ª –∫–∞—Ä—Ç—É –Ω–∞ –∫–∞—Ä—Ç—É –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º) –∏–≥—Ä–æ–∫ –±–µ—Ä–µ—Ç –∫–∞—Ä—Ç—É –∏–∑ –∫–æ–ª–æ–¥—ã –∏ –æ–ø—è—Ç—å —Å–º–æ—Ç—Ä–∏—Ç, –º–æ–∂–µ—Ç –ª–∏ –∫–æ–º—É –ø–æ–ª–æ–∂–∏—Ç—å. –ï—Å–ª–∏ —É–∂–µ –Ω–µ—Ç —Ö–æ–¥–∞, –∑–Ω–∞—á–∏—Ç –∫–ª–∞–¥–µ—Ç —Å–µ–±–µ –∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ö–æ–¥.

*–û–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã:*
- –ò–≥—Ä–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –∏–∑–±–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç –≤—Å–µ—Ö –∫–∞—Ä—Ç –Ω–∞ —Ä—É–∫–µ.
- –≠—Ç–æ—Ç –∏–≥—Ä–æ–∫ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–º.

*–†–µ–π—Ç–∏–Ω–≥:*
- –ó–∞ –ø–æ–±–µ–¥—É –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 10 –æ—á–∫–æ–≤.
- –ó–∞ –ø—Ä–æ–∏–≥—Ä—ã—à —Å–Ω–∏–º–∞–µ—Ç—Å—è 3 –æ—á–∫–∞ (–Ω–æ –Ω–µ –Ω–∏–∂–µ 0).

–£–¥–∞—á–Ω–æ–π –∏–≥—Ä—ã!`;

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ö–æ–¥–∞ –≤ —Å—Ü–µ–Ω—É
rulesScene.enter(async (ctx) => {
  await ctx.reply(
    rulesText,
    {
      parse_mode: 'Markdown',
      ...Markup.keyboard([['¬´ –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é']]).resize()
    }
  );
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é"
rulesScene.hears('¬´ –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', (ctx) => {
  ctx.scene.enter('menu');
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
rulesScene.on('message', (ctx) => {
  ctx.reply(
    '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é" –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.',
    Markup.keyboard([['¬´ –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é']]).resize()
  );
});

module.exports = { rulesScene }; 