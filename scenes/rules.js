const { Scenes, Markup } = require('telegraf');

// –°–æ–∑–¥–∞–µ–º —Å—Ü–µ–Ω—É —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
const rulesScene = new Scenes.BaseScene('rules');

// –¢–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã "–†–∞–∑–≥–∏–ª—å–¥—è–π"
const rulesText = `üìã *–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã "–†–∞–∑–≥–∏–ª—å–¥—è–π"*

*–¶–µ–ª—å –∏–≥—Ä—ã:* –ò–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –≤—Å–µ—Ö –∫–∞—Ä—Ç –Ω–∞ —Ä—É–∫–µ —Ä–∞–Ω—å—à–µ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤.

*–ö–æ–ª–æ–¥–∞:* –ò–≥—Ä–∞ –≤–µ–¥–µ—Ç—Å—è –∫–æ–ª–æ–¥–æ–π –∏–∑ 36 –∫–∞—Ä—Ç (–æ—Ç 6 –¥–æ —Ç—É–∑–∞).

*–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:* 
- –ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ 4 –∫–∞—Ä—Ç—ã.
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã –æ–±—Ä–∞–∑—É—é—Ç –∫–æ–ª–æ–¥—É, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –±–µ—Ä—É—Ç—Å—è –∫–∞—Ä—Ç—ã.
- –í–µ—Ä—Ö–Ω—è—è –∫–∞—Ä—Ç–∞ –∫–æ–ª–æ–¥—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –∫–ª–∞–¥–µ—Ç—Å—è —Ä—è–¥–æ–º, –æ–±—Ä–∞–∑—É—è –æ—Ç–±–æ–π.

*–•–æ–¥ –∏–≥—Ä—ã:*
1. –ò–≥—Ä–æ–∫–∏ —Ö–æ–¥—è—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ.
2. –í —Å–≤–æ–π —Ö–æ–¥ –∏–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –ø–æ–ª–æ–∂–∏—Ç—å –≤ –æ—Ç–±–æ–π –∫–∞—Ä—Ç—É —Ç–æ–π –∂–µ –º–∞—Å—Ç–∏ –∏–ª–∏ —Ç–æ–≥–æ –∂–µ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞, —á—Ç–æ –∏ –≤–µ—Ä—Ö–Ω—è—è –∫–∞—Ä—Ç–∞ –æ—Ç–±–æ—è.
3. –ï—Å–ª–∏ —É –∏–≥—Ä–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–π –∫–∞—Ä—Ç—ã, –æ–Ω –¥–æ–ª–∂–µ–Ω –≤–∑—è—Ç—å –æ–¥–Ω—É –∫–∞—Ä—Ç—É –∏–∑ –∫–æ–ª–æ–¥—ã.
4. –ï—Å–ª–∏ –≤–∑—è—Ç–∞—è –∫–∞—Ä—Ç–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç, –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç —Å—Ä–∞–∑—É –∂–µ –µ—é —Å—Ö–æ–¥–∏—Ç—å.
5. –ï—Å–ª–∏ –≤–∑—è—Ç–∞—è –∫–∞—Ä—Ç–∞ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, —Ö–æ–¥ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∏–≥—Ä–æ–∫—É.

*–û–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã:*
- –ò–≥—Ä–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –∏–∑–±–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç –≤—Å–µ—Ö –∫–∞—Ä—Ç –Ω–∞ —Ä—É–∫–µ.
- –≠—Ç–æ—Ç –∏–≥—Ä–æ–∫ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–º.

*–†–µ–π—Ç–∏–Ω–≥:*
- –ó–∞ –ø–æ–±–µ–¥—É –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 10 –æ—á–∫–æ–≤.
- –ó–∞ –ø—Ä–æ–∏–≥—Ä—ã—à —Å–Ω–∏–º–∞–µ—Ç—Å—è 3 –æ—á–∫–∞ (–Ω–æ –Ω–µ –Ω–∏–∂–µ 0).

–£–¥–∞—á–Ω–æ–π –∏–≥—Ä—ã!`;

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ö–æ–¥–∞ –≤ —Å—Ü–µ–Ω—É
rulesScene.enter(async (ctx) => {
  await ctx.reply(
    rulesText,
    {
      parse_mode: 'Markdown',
      ...Markup.keyboard([['¬´ –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é']]).resize()
    }
  );
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é"
rulesScene.hears('¬´ –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', (ctx) => {
  ctx.scene.enter('menu');
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
rulesScene.on('message', (ctx) => {
  ctx.reply(
    '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é" –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.',
    Markup.keyboard([['¬´ –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é']]).resize()
  );
});

module.exports = { rulesScene }; 